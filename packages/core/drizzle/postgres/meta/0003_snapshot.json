{
  "id": "648a8f45-b7ad-4d6f-89a1-6d4ff7b3b850",
  "prevId": "6846bd53-ea41-4741-bb85-fcc0d5833f4d",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.board_comments": {
      "name": "board_comments",
      "schema": "",
      "columns": {
        "comment_id": {
          "name": "comment_id",
          "type": "varchar(36)",
          "primaryKey": true,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "board_id": {
          "name": "board_id",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": true
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": true,
          "default": "'anonymous'"
        },
        "session_id": {
          "name": "session_id",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": false
        },
        "task_id": {
          "name": "task_id",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": false
        },
        "message_id": {
          "name": "message_id",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": false
        },
        "worktree_id": {
          "name": "worktree_id",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": false
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "content_preview": {
          "name": "content_preview",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "parent_comment_id": {
          "name": "parent_comment_id",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": false
        },
        "resolved": {
          "name": "resolved",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "edited": {
          "name": "edited",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "reactions": {
          "name": "reactions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'"
        },
        "data": {
          "name": "data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "board_comments_board_idx": {
          "name": "board_comments_board_idx",
          "columns": [
            {
              "expression": "board_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "board_comments_session_idx": {
          "name": "board_comments_session_idx",
          "columns": [
            {
              "expression": "session_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "board_comments_task_idx": {
          "name": "board_comments_task_idx",
          "columns": [
            {
              "expression": "task_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "board_comments_message_idx": {
          "name": "board_comments_message_idx",
          "columns": [
            {
              "expression": "message_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "board_comments_worktree_idx": {
          "name": "board_comments_worktree_idx",
          "columns": [
            {
              "expression": "worktree_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "board_comments_created_by_idx": {
          "name": "board_comments_created_by_idx",
          "columns": [
            {
              "expression": "created_by",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "board_comments_parent_idx": {
          "name": "board_comments_parent_idx",
          "columns": [
            {
              "expression": "parent_comment_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "board_comments_created_idx": {
          "name": "board_comments_created_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "board_comments_resolved_idx": {
          "name": "board_comments_resolved_idx",
          "columns": [
            {
              "expression": "resolved",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "board_comments_board_id_boards_board_id_fk": {
          "name": "board_comments_board_id_boards_board_id_fk",
          "tableFrom": "board_comments",
          "tableTo": "boards",
          "columnsFrom": ["board_id"],
          "columnsTo": ["board_id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "board_comments_session_id_sessions_session_id_fk": {
          "name": "board_comments_session_id_sessions_session_id_fk",
          "tableFrom": "board_comments",
          "tableTo": "sessions",
          "columnsFrom": ["session_id"],
          "columnsTo": ["session_id"],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "board_comments_task_id_tasks_task_id_fk": {
          "name": "board_comments_task_id_tasks_task_id_fk",
          "tableFrom": "board_comments",
          "tableTo": "tasks",
          "columnsFrom": ["task_id"],
          "columnsTo": ["task_id"],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "board_comments_message_id_messages_message_id_fk": {
          "name": "board_comments_message_id_messages_message_id_fk",
          "tableFrom": "board_comments",
          "tableTo": "messages",
          "columnsFrom": ["message_id"],
          "columnsTo": ["message_id"],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "board_comments_worktree_id_worktrees_worktree_id_fk": {
          "name": "board_comments_worktree_id_worktrees_worktree_id_fk",
          "tableFrom": "board_comments",
          "tableTo": "worktrees",
          "columnsFrom": ["worktree_id"],
          "columnsTo": ["worktree_id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.board_objects": {
      "name": "board_objects",
      "schema": "",
      "columns": {
        "object_id": {
          "name": "object_id",
          "type": "varchar(36)",
          "primaryKey": true,
          "notNull": true
        },
        "board_id": {
          "name": "board_id",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "worktree_id": {
          "name": "worktree_id",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": true
        },
        "data": {
          "name": "data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "board_objects_board_idx": {
          "name": "board_objects_board_idx",
          "columns": [
            {
              "expression": "board_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "board_objects_worktree_idx": {
          "name": "board_objects_worktree_idx",
          "columns": [
            {
              "expression": "worktree_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "board_objects_board_id_boards_board_id_fk": {
          "name": "board_objects_board_id_boards_board_id_fk",
          "tableFrom": "board_objects",
          "tableTo": "boards",
          "columnsFrom": ["board_id"],
          "columnsTo": ["board_id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "board_objects_worktree_id_worktrees_worktree_id_fk": {
          "name": "board_objects_worktree_id_worktrees_worktree_id_fk",
          "tableFrom": "board_objects",
          "tableTo": "worktrees",
          "columnsFrom": ["worktree_id"],
          "columnsTo": ["worktree_id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.boards": {
      "name": "boards",
      "schema": "",
      "columns": {
        "board_id": {
          "name": "board_id",
          "type": "varchar(36)",
          "primaryKey": true,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": true,
          "default": "'anonymous'"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "data": {
          "name": "data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "boards_name_idx": {
          "name": "boards_name_idx",
          "columns": [
            {
              "expression": "name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "boards_slug_idx": {
          "name": "boards_slug_idx",
          "columns": [
            {
              "expression": "slug",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "boards_slug_unique": {
          "name": "boards_slug_unique",
          "nullsNotDistinct": false,
          "columns": ["slug"]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.mcp_servers": {
      "name": "mcp_servers",
      "schema": "",
      "columns": {
        "mcp_server_id": {
          "name": "mcp_server_id",
          "type": "varchar(36)",
          "primaryKey": true,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "transport": {
          "name": "transport",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "scope": {
          "name": "scope",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "enabled": {
          "name": "enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "owner_user_id": {
          "name": "owner_user_id",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": false
        },
        "team_id": {
          "name": "team_id",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": false
        },
        "repo_id": {
          "name": "repo_id",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": false
        },
        "session_id": {
          "name": "session_id",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": false
        },
        "source": {
          "name": "source",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "data": {
          "name": "data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "mcp_servers_name_idx": {
          "name": "mcp_servers_name_idx",
          "columns": [
            {
              "expression": "name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "mcp_servers_scope_idx": {
          "name": "mcp_servers_scope_idx",
          "columns": [
            {
              "expression": "scope",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "mcp_servers_owner_idx": {
          "name": "mcp_servers_owner_idx",
          "columns": [
            {
              "expression": "owner_user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "mcp_servers_team_idx": {
          "name": "mcp_servers_team_idx",
          "columns": [
            {
              "expression": "team_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "mcp_servers_repo_idx": {
          "name": "mcp_servers_repo_idx",
          "columns": [
            {
              "expression": "repo_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "mcp_servers_session_idx": {
          "name": "mcp_servers_session_idx",
          "columns": [
            {
              "expression": "session_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "mcp_servers_enabled_idx": {
          "name": "mcp_servers_enabled_idx",
          "columns": [
            {
              "expression": "enabled",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "mcp_servers_repo_id_repos_repo_id_fk": {
          "name": "mcp_servers_repo_id_repos_repo_id_fk",
          "tableFrom": "mcp_servers",
          "tableTo": "repos",
          "columnsFrom": ["repo_id"],
          "columnsTo": ["repo_id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "mcp_servers_session_id_sessions_session_id_fk": {
          "name": "mcp_servers_session_id_sessions_session_id_fk",
          "tableFrom": "mcp_servers",
          "tableTo": "sessions",
          "columnsFrom": ["session_id"],
          "columnsTo": ["session_id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.messages": {
      "name": "messages",
      "schema": "",
      "columns": {
        "message_id": {
          "name": "message_id",
          "type": "varchar(36)",
          "primaryKey": true,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "session_id": {
          "name": "session_id",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": true
        },
        "task_id": {
          "name": "task_id",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "index": {
          "name": "index",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "content_preview": {
          "name": "content_preview",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "parent_tool_use_id": {
          "name": "parent_tool_use_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "queue_position": {
          "name": "queue_position",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "data": {
          "name": "data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "messages_session_id_idx": {
          "name": "messages_session_id_idx",
          "columns": [
            {
              "expression": "session_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "messages_task_id_idx": {
          "name": "messages_task_id_idx",
          "columns": [
            {
              "expression": "task_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "messages_session_index_idx": {
          "name": "messages_session_index_idx",
          "columns": [
            {
              "expression": "session_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "index",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "messages_queue_idx": {
          "name": "messages_queue_idx",
          "columns": [
            {
              "expression": "session_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "queue_position",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "messages_session_id_sessions_session_id_fk": {
          "name": "messages_session_id_sessions_session_id_fk",
          "tableFrom": "messages",
          "tableTo": "sessions",
          "columnsFrom": ["session_id"],
          "columnsTo": ["session_id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "messages_task_id_tasks_task_id_fk": {
          "name": "messages_task_id_tasks_task_id_fk",
          "tableFrom": "messages",
          "tableTo": "tasks",
          "columnsFrom": ["task_id"],
          "columnsTo": ["task_id"],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.repos": {
      "name": "repos",
      "schema": "",
      "columns": {
        "repo_id": {
          "name": "repo_id",
          "type": "varchar(36)",
          "primaryKey": true,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "repo_type": {
          "name": "repo_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'remote'"
        },
        "data": {
          "name": "data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "repos_slug_idx": {
          "name": "repos_slug_idx",
          "columns": [
            {
              "expression": "slug",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "repos_slug_unique": {
          "name": "repos_slug_unique",
          "nullsNotDistinct": false,
          "columns": ["slug"]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.session_mcp_servers": {
      "name": "session_mcp_servers",
      "schema": "",
      "columns": {
        "session_id": {
          "name": "session_id",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": true
        },
        "mcp_server_id": {
          "name": "mcp_server_id",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": true
        },
        "enabled": {
          "name": "enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "added_at": {
          "name": "added_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "session_mcp_servers_pk": {
          "name": "session_mcp_servers_pk",
          "columns": [
            {
              "expression": "session_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "mcp_server_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "session_mcp_servers_session_idx": {
          "name": "session_mcp_servers_session_idx",
          "columns": [
            {
              "expression": "session_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "session_mcp_servers_server_idx": {
          "name": "session_mcp_servers_server_idx",
          "columns": [
            {
              "expression": "mcp_server_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "session_mcp_servers_enabled_idx": {
          "name": "session_mcp_servers_enabled_idx",
          "columns": [
            {
              "expression": "session_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "enabled",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "session_mcp_servers_session_id_sessions_session_id_fk": {
          "name": "session_mcp_servers_session_id_sessions_session_id_fk",
          "tableFrom": "session_mcp_servers",
          "tableTo": "sessions",
          "columnsFrom": ["session_id"],
          "columnsTo": ["session_id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "session_mcp_servers_mcp_server_id_mcp_servers_mcp_server_id_fk": {
          "name": "session_mcp_servers_mcp_server_id_mcp_servers_mcp_server_id_fk",
          "tableFrom": "session_mcp_servers",
          "tableTo": "mcp_servers",
          "columnsFrom": ["mcp_server_id"],
          "columnsTo": ["mcp_server_id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.sessions": {
      "name": "sessions",
      "schema": "",
      "columns": {
        "session_id": {
          "name": "session_id",
          "type": "varchar(36)",
          "primaryKey": true,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": true,
          "default": "'anonymous'"
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "agentic_tool": {
          "name": "agentic_tool",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "board_id": {
          "name": "board_id",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": false
        },
        "parent_session_id": {
          "name": "parent_session_id",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": false
        },
        "forked_from_session_id": {
          "name": "forked_from_session_id",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": false
        },
        "worktree_id": {
          "name": "worktree_id",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": true
        },
        "scheduled_run_at": {
          "name": "scheduled_run_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "scheduled_from_worktree": {
          "name": "scheduled_from_worktree",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "ready_for_prompt": {
          "name": "ready_for_prompt",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "archived": {
          "name": "archived",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "archived_reason": {
          "name": "archived_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "data": {
          "name": "data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "sessions_status_idx": {
          "name": "sessions_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "sessions_agentic_tool_idx": {
          "name": "sessions_agentic_tool_idx",
          "columns": [
            {
              "expression": "agentic_tool",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "sessions_board_idx": {
          "name": "sessions_board_idx",
          "columns": [
            {
              "expression": "board_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "sessions_worktree_idx": {
          "name": "sessions_worktree_idx",
          "columns": [
            {
              "expression": "worktree_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "sessions_created_idx": {
          "name": "sessions_created_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "sessions_parent_idx": {
          "name": "sessions_parent_idx",
          "columns": [
            {
              "expression": "parent_session_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "sessions_forked_idx": {
          "name": "sessions_forked_idx",
          "columns": [
            {
              "expression": "forked_from_session_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "sessions_scheduled_flag_idx": {
          "name": "sessions_scheduled_flag_idx",
          "columns": [
            {
              "expression": "scheduled_from_worktree",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "sessions_worktree_id_worktrees_worktree_id_fk": {
          "name": "sessions_worktree_id_worktrees_worktree_id_fk",
          "tableFrom": "sessions",
          "tableTo": "worktrees",
          "columnsFrom": ["worktree_id"],
          "columnsTo": ["worktree_id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.tasks": {
      "name": "tasks",
      "schema": "",
      "columns": {
        "task_id": {
          "name": "task_id",
          "type": "varchar(36)",
          "primaryKey": true,
          "notNull": true
        },
        "session_id": {
          "name": "session_id",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": true,
          "default": "'anonymous'"
        },
        "data": {
          "name": "data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "tasks_session_idx": {
          "name": "tasks_session_idx",
          "columns": [
            {
              "expression": "session_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "tasks_status_idx": {
          "name": "tasks_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "tasks_created_idx": {
          "name": "tasks_created_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "tasks_session_id_sessions_session_id_fk": {
          "name": "tasks_session_id_sessions_session_id_fk",
          "tableFrom": "tasks",
          "tableTo": "sessions",
          "columnsFrom": ["session_id"],
          "columnsTo": ["session_id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.users": {
      "name": "users",
      "schema": "",
      "columns": {
        "user_id": {
          "name": "user_id",
          "type": "varchar(36)",
          "primaryKey": true,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "password": {
          "name": "password",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "emoji": {
          "name": "emoji",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'member'"
        },
        "unix_username": {
          "name": "unix_username",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "onboarding_completed": {
          "name": "onboarding_completed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "data": {
          "name": "data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "users_email_idx": {
          "name": "users_email_idx",
          "columns": [
            {
              "expression": "email",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "users_email_unique": {
          "name": "users_email_unique",
          "nullsNotDistinct": false,
          "columns": ["email"]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.worktrees": {
      "name": "worktrees",
      "schema": "",
      "columns": {
        "worktree_id": {
          "name": "worktree_id",
          "type": "varchar(36)",
          "primaryKey": true,
          "notNull": true
        },
        "repo_id": {
          "name": "repo_id",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": true,
          "default": "'anonymous'"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "ref": {
          "name": "ref",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "ref_type": {
          "name": "ref_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "worktree_unique_id": {
          "name": "worktree_unique_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "start_command": {
          "name": "start_command",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "stop_command": {
          "name": "stop_command",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "health_check_url": {
          "name": "health_check_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "app_url": {
          "name": "app_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "logs_command": {
          "name": "logs_command",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "board_id": {
          "name": "board_id",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": false
        },
        "schedule_enabled": {
          "name": "schedule_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "schedule_cron": {
          "name": "schedule_cron",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "schedule_last_triggered_at": {
          "name": "schedule_last_triggered_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "schedule_next_run_at": {
          "name": "schedule_next_run_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "needs_attention": {
          "name": "needs_attention",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "archived": {
          "name": "archived",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "archived_at": {
          "name": "archived_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "archived_by": {
          "name": "archived_by",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": false
        },
        "filesystem_status": {
          "name": "filesystem_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "data": {
          "name": "data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "worktrees_repo_idx": {
          "name": "worktrees_repo_idx",
          "columns": [
            {
              "expression": "repo_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "worktrees_name_idx": {
          "name": "worktrees_name_idx",
          "columns": [
            {
              "expression": "name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "worktrees_ref_idx": {
          "name": "worktrees_ref_idx",
          "columns": [
            {
              "expression": "ref",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "worktrees_board_idx": {
          "name": "worktrees_board_idx",
          "columns": [
            {
              "expression": "board_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "worktrees_created_idx": {
          "name": "worktrees_created_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "worktrees_updated_idx": {
          "name": "worktrees_updated_idx",
          "columns": [
            {
              "expression": "updated_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "worktrees_repo_name_unique": {
          "name": "worktrees_repo_name_unique",
          "columns": [
            {
              "expression": "repo_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "worktrees_schedule_enabled_idx": {
          "name": "worktrees_schedule_enabled_idx",
          "columns": [
            {
              "expression": "schedule_enabled",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "worktrees_board_schedule_idx": {
          "name": "worktrees_board_schedule_idx",
          "columns": [
            {
              "expression": "board_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "schedule_enabled",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "worktrees_repo_id_repos_repo_id_fk": {
          "name": "worktrees_repo_id_repos_repo_id_fk",
          "tableFrom": "worktrees",
          "tableTo": "repos",
          "columnsFrom": ["repo_id"],
          "columnsTo": ["repo_id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "worktrees_board_id_boards_board_id_fk": {
          "name": "worktrees_board_id_boards_board_id_fk",
          "tableFrom": "worktrees",
          "tableTo": "boards",
          "columnsFrom": ["board_id"],
          "columnsTo": ["board_id"],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {},
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}
