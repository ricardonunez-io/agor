# API Reference

Interactive REST API documentation auto-generated from the Agor daemon.

## ðŸ“š Interactive API Docs

The Agor daemon serves **live, interactive API documentation** via Swagger UI:

<div style={{ padding: '20px', background: '#1a1a1a', borderRadius: '8px', border: '1px solid #333', marginTop: '20px' }}>
  <p style={{ margin: '0 0 10px', color: '#2e9a92', fontWeight: 'bold' }}>Start your daemon:</p>
  <pre style={{ margin: '0 0 15px', padding: '10px', background: '#0a0a0a', borderRadius: '4px' }}>
agor daemon start
  </pre>
  <p style={{ margin: '0 0 10px', color: '#2e9a92', fontWeight: 'bold' }}>Then visit:</p>
  <p style={{ margin: 0 }}>
    <a href="http://localhost:3030/docs/" target="_blank" style={{ color: '#2e9a92', fontSize: '18px' }}>
      â†’ http://localhost:3030/docs/
    </a>
  </p>
</div>

**Features:**
- âœ… **Always up-to-date** - Generated from actual service definitions
- âœ… **Try it out** - Execute API calls directly from the browser
- âœ… **Dark mode** - Easy on the eyes
- âœ… **Full schema** - Request/response models for all endpoints

## Quick Reference

### Base URL

```
http://localhost:3030
```

### Authentication

Agor uses JWT-based authentication:

```bash
Authorization: Bearer <your-token>
```

**Anonymous Mode:** For local development, anonymous authentication is enabled by default (no token required).

### Core Services

- **`/sessions`** - AI agent session management with genealogy (fork/spawn)
- **`/tasks`** - Work units within sessions tracking prompts and execution
- **`/messages`** - Conversation messages with streaming support
- **`/repos`** - Git repository management and worktree operations
- **`/boards`** - Spatial organization of sessions with zones and triggers
- **`/worktrees`** - Git worktree isolation for sessions
- **`/users`** - User account management and authentication
- **`/mcp-servers`** - Model Context Protocol server configurations

### Response Format

All FeathersJS endpoints return data in this format:

```typescript
// Single resource
{
  data: { id: '...', ... }
}

// List of resources (paginated)
{
  data: [{ id: '...', ... }],
  total: 100,
  limit: 50,
  skip: 0
}
```

### RESTful Conventions

All services follow standard REST patterns:

- `GET /service` - List items (paginated)
- `GET /service/:id` - Get single item
- `POST /service` - Create new item
- `PATCH /service/:id` - Update item (partial)
- `DELETE /service/:id` - Delete item

## WebSocket Events

Real-time updates via Socket.IO:

- **[WebSocket Events](/api-reference/websockets)** - Real-time event documentation

## Source Code

For TypeScript type definitions and service implementations:

- **TypeScript types**: [`packages/core/src/types`](https://github.com/mistercrunch/agor/tree/main/packages/core/src/types)
- **Service implementations**: [`apps/agor-daemon/src/services`](https://github.com/mistercrunch/agor/tree/main/apps/agor-daemon/src/services)
